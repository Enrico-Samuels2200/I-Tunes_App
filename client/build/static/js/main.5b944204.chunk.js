(window.webpackJsonpclient=window.webpackJsonpclient||[]).push([[0],{17:function(e,t,a){e.exports=a.p+"static/media/star.8bebb87b.png"},21:function(e,t,a){},26:function(e,t,a){e.exports=a.p+"static/media/home.5a1c9515.png"},27:function(e,t,a){e.exports=a.p+"static/media/trash.9f9bb223.png"},28:function(e,t,a){e.exports=a(40)},33:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(23),o=a.n(c),l=(a(33),a(7)),i=a(8),s=a(11),u=a(9),m=a(12),f=a(10),p=a(5),d=a(13),h=a.n(d),E=a(15),v=a(17),b=a.n(v),k=(a(21),function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).componentDidMount=function(){e.fetchData()},e.fetchData=Object(E.a)(h.a.mark((function t(){var a,n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("/media/?name=".concat(e.state.title,"&type=").concat(e.state.type));case 3:return a=t.sent,t.next=6,a.json();case 6:n=t.sent,e.setState({data:n.results}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),window.location.reload(!1);case 13:case"end":return t.stop()}}),t,null,[[0,10]])}))),e.setTitle=function(t){e.setState({title:t})},e.setType=function(t){e.setState({type:t})},e.addFav=function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};fetch("/media",t),alert("".concat(e.artistName,"-").concat(e.trackName,", was added to your favourites list."))},e.checkMedia=function(e){if("song"===e.kind)return r.a.createElement("audio",{src:e.previewUrl,controls:!0})},e.state={data:[],title:"",type:""},e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state.data.map((function(t){return[r.a.createElement("div",{class:"displayItem"},r.a.createElement("img",{src:t.artworkUrl100})," ",r.a.createElement("p",{class:"artistName"},t.artistName," -")," ",r.a.createElement("br",null),r.a.createElement("p",{class:"trackName"},t.trackName," ")," ",e.checkMedia(t),r.a.createElement("br",null),r.a.createElement("a",{href:"#",onClick:function(){return e.addFav(t)}},r.a.createElement("img",{src:b.a,alt:"Favourite icon",class:"customButton"}))," ")]}));return r.a.createElement("div",null,r.a.createElement("div",{class:"navBar"},r.a.createElement("h1",null,"I Tunes Search Engine"),r.a.createElement("input",{placeholder:"Enter title here",onChange:function(t){return e.setTitle(t.target.value)},name:"artistName",autoComplete:"off"}),r.a.createElement("select",{onChange:function(t){return e.setType(t.target.value)},class:"typePick"}," ",r.a.createElement("option",{value:"all"},"all"),r.a.createElement("option",{value:"music"},"music"),r.a.createElement("option",{value:"audio book"},"audio book"),r.a.createElement("option",{value:"ebook"},"ebook")),r.a.createElement("button",{onClick:function(){return e.fetchData()}},"Search"),r.a.createElement(f.b,{to:"/favourites",class:"icon"},r.a.createElement("img",{src:b.a,alt:"Star icon"}))," ",r.a.createElement("br",null)),r.a.createElement("hr",null),t)}}]),t}(r.a.Component)),w=a(26),g=a.n(w),y=a(27),j=a.n(y),O=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).componentDidMount=function(){e.fetchData()},e.fetchData=Object(E.a)(h.a.mark((function t(){var a,n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("/favourites");case 3:return a=t.sent,t.next=6,a.json();case 6:n=t.sent,e.setState({favList:n}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),window.location.reload(!1);case 13:case"end":return t.stop()}}),t,null,[[0,10]])}))),e.deleteItem=function(t){var a={method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};fetch("/favourites",a),e.fetchData()},e.checkMedia=function(e){if("song"===e.kind)return r.a.createElement("audio",{src:e.previewUrl,controls:!0})},e.state={favList:[]},e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state.favList.map((function(t){return[r.a.createElement("div",{class:"displayItem"},r.a.createElement("img",{src:t.artworkUrl100}),r.a.createElement("p",null,t.artistName," -"),r.a.createElement("br",null),r.a.createElement("p",null,t.trackName," "),e.checkMedia(t),r.a.createElement("br",null),r.a.createElement("a",{herf:"#",onClick:function(){return e.deleteItem(t)}},r.a.createElement("img",{src:j.a,alt:"Trash can icon",class:"customButton"})))]}));return r.a.createElement("div",null,r.a.createElement("div",{class:"navBar"},r.a.createElement("h1",null,"Your I Tunes favourites"),r.a.createElement(f.b,{to:"/",class:"home"},r.a.createElement("img",{src:g.a,alt:"Home icon"})),r.a.createElement("br",null)),r.a.createElement("hr",null),t)}}]),t}(r.a.Component),x=function(){return r.a.createElement(f.a,null,r.a.createElement(p.c,null,r.a.createElement(p.a,{path:"/",exact:!0,component:k}),r.a.createElement(p.a,{path:"/favourites",exact:!0,component:O})))},C=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(x,null)}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[28,1,2]]]);
//# sourceMappingURL=main.5b944204.chunk.js.map